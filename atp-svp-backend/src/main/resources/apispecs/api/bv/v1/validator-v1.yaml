# Copyright 2024-2025 NetCracker Technology Corporation
#
# Licensed under the Apache License, Version 2.0 (the "License");
# You may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is provided "AS IS", without warranties
# or conditions of any kind, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

openapi: 3.0.3
info:
  title: Api Documentation
  description: Api Documentation
  version: '1.0'
servers:
  - url: 'http://localhost:8080'
    description: Inferred Url
tags:
  - name: validator-resource
    description: Validator Resource
paths:
  '/api/bvtool/project/{projectId}/validator/v1/calculateSummary':
    put:
      tags:
        - validator-resource
      summary: calculateSummary
      operationId: calculateSummary
      parameters:
        - name: projectId
          in: path
          description: projectId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          application/json:
            schema:
              type: string
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                type: string
        '201':
          description: Created
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
  '/api/bvtool/project/{projectId}/validator/v1/compare':
    put:
      tags:
        - validator-resource
      summary: compare
      operationId: compare
      parameters:
        - name: projectId
          in: path
          description: projectId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          application/json:
            schema:
              type: string
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                type: string
        '201':
          description: Created
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
  '/api/bvtool/project/{projectId}/validator/v1/getRules':
    get:
      tags:
        - validator-resource
      summary: getRules
      operationId: getRules
      parameters:
        - name: projectId
          in: path
          description: projectId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                type: string
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
  '/api/bvtool/project/{projectId}/validator/v1/getTestRunSnapshot/{trId}':
    get:
      tags:
        - validator-resource
      summary: TestRunSnapshot
      operationId: TestRunSnapshot
      parameters:
        - name: projectId
          in: path
          description: projectId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: trId
          in: path
          description: trId
          required: true
          style: simple
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                type: string
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
  '/api/bvtool/project/{projectId}/validator/v1/highlight':
    put:
      tags:
        - validator-resource
      summary: highlight
      operationId: highlight
      parameters:
        - name: projectId
          in: path
          description: projectId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          application/json:
            schema:
              type: string
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                type: string
        '201':
          description: Created
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
  '/api/bvtool/project/{projectId}/validator/v1/highlightByIds':
    put:
      tags:
        - validator-resource
      summary: highlightByIds
      operationId: highlightByIds
      parameters:
        - name: projectId
          in: path
          description: projectId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: string
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                type: string
        '201':
          description: Created
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
  '/api/bvtool/project/{projectId}/validator/v1/quickHighlight':
    put:
      tags:
        - validator-resource
      summary: quickHighlight
      operationId: quickHighlight
      parameters:
        - name: projectId
          in: path
          description: projectId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          application/json:
            schema:
              type: string
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                type: string
        '201':
          description: Created
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
  '/api/bvtool/project/{projectId}/validator/v1/report':
    put:
      tags:
        - validator-resource
      summary: report
      operationId: report
      parameters:
        - name: projectId
          in: path
          description: projectId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          application/json:
            schema:
              type: string
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                type: string
        '201':
          description: Created
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
  '/api/bvtool/project/{projectId}/validator/v1/simpleCompare':
    put:
      tags:
        - validator-resource
      summary: simpleCompare
      operationId: simpleCompare
      parameters:
        - name: projectId
          in: path
          description: projectId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SimpleCompareRequest'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                type: string
        '201':
          description: Created
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
components:
  schemas:
    Data:
      title: Data
      type: object
      properties:
        childs:
          type: array
          items:
            $ref: '#/components/schemas/Data'
        content:
          type: string
        contentType:
          type: string
          enum:
            - BITMAP
            - CSV
            - EXCEL
            - FULL_TEXT
            - JSON
            - MASKED_XML
            - PLAIN_TEXT
            - PRIMITIVES
            - TABLE
            - TASK_LIST
            - XML
            - XSD
        dataType:
          type: string
          enum:
            - CONTEXT_PARAMETER
            - PROCESS
            - PROCESS_STEP
            - SIMPLE
        externalId:
          type: string
        internalId:
          type: string
        name:
          type: string
        orderNum:
          type: integer
          format: int32
        timeStamp:
          type: string
          format: date-time
    GlobalRule:
      title: GlobalRule
      type: object
      properties:
        important:
          type: string
        name:
          type: string
        objectId:
          type: string
        priority:
          type: integer
          format: int32
        ruleId:
          type: integer
          format: int32
        tcId:
          type: string
        value:
          type: string
    SimpleCompareRequest:
      title: SimpleCompareRequest
      type: object
      properties:
        ar:
          $ref: '#/components/schemas/Data'
        er:
          $ref: '#/components/schemas/Data'
        resultType:
          type: string
          enum:
            - COMPARE_RESULT
            - HIGHLIGHTER
        rules:
          type: array
          items:
            $ref: '#/components/schemas/GlobalRule'
